(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},22:function(e,t,a){e.exports=a(56)},27:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),s=a.n(o),c=(a(27),a(3)),i=a(4),l=a(7),d=a(5),u=a(6),h=(a(29),a(1)),p=a(11),m=a(8),v=100,f=20,E="DOWN";a(35);function b(e){for(var t=[],a=0;a<e.size;a++){t[a]=[];for(var n=0;n<e.size;n++)t[a][n]=""}var o={width:f,height:f};return r.a.createElement("div",{className:"snakeBoard",align:"centre"},t.map(function(e,t){return r.a.createElement("div",{className:"snakeBoardRow",key:t},e.map(function(e,t){return r.a.createElement("div",{className:"snakeBoardCell",style:o,key:t})}))}))}a(37);var k=function(e){return r.a.createElement("div",null,e.coords.map(function(t,a){var n={left:t[0]*f+"px",top:t[1]*f+"px",background:e.lost?"darkred":"",width:f,height:f};return r.a.createElement("div",{className:"snakeBody",style:n,key:a})}))},O=(a(39),function(e){var t={left:e.coords[0]*f+"px",top:e.coords[1]*f+"px",width:f,height:f};return r.a.createElement("div",{className:"snakeFood",style:t})}),N=a(20),S=a.n(N),g=(a(45),a(47),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){a.props.onChange(e),t.preventDefault()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sliderComponent"},r.a.createElement("div",{className:"sliderLabel"},this.props.label),r.a.createElement(S.a,{className:"rangeSlider",value:this.props.value,orientation:"vertical",min:this.props.minValue,max:this.props.maxValue,tooltip:!1,onChange:this.handleChange}),r.a.createElement("div",{className:"sliderValue"},this.props.value))}}]),t}(n.Component));function j(e){var t=e.direction,a=e.coords.slice(),n=a[a.length-1],r={DOWN:[n[0],n[1]+1],UP:[n[0],n[1]-1],LEFT:[n[0]-1,n[1]],RIGHT:[n[0]+1,n[1]]};return a.push(r[t]),a.shift(),{type:"MOVE_SNAKE",coords:a}}function C(e){return{type:"SET_FOOD",food:e}}function G(e){return{type:"SET_DIRECTION",direction:e}}function y(e){return{type:"PREPEND_SNAKE",coords:e}}function w(){return{type:"NEW_GAME"}}function _(){return{type:"LOSE_GAME"}}function z(){return{type:"INCREMENT_SCORE"}}function M(e){return{type:"CHANGE_BOARD_SIZE",boardSize:e}}function T(e){return{type:"CHANGE_GAME_SPEED",slider:e}}function D(e,t){return t.some(function(t){return t[0]===e[0]&&t[1]===e[1]})}a(49);var I=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).handleBoardSizeChange=function(t){e.props.changeBoardSize(t),e.resetGame()},e.handleGameSpeedChange=function(t){var a=v-t;e.props.changeGameSpeed(a)},e.directionOnNextTick=E,e.resetGame=e.resetGame.bind(Object(h.a)(Object(h.a)(e))),e.checkGameLoss=e.checkGameLoss.bind(Object(h.a)(Object(h.a)(e))),e.handleBoardSizeChange=e.handleBoardSizeChange.bind(Object(h.a)(Object(h.a)(e))),e.handleGameSpeedChange=e.handleGameSpeedChange.bind(Object(h.a)(Object(h.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setControls(),this.generateNewFood()}},{key:"componentDidUpdate",value:function(){this.checkFoodCollision(),this.checkGameLoss()}},{key:"checkGameLoss",value:function(){var e=this.props.snake.coords,t=e[e.length-1];this.props.game.lost||-1!==t[0]&&t[0]!==this.props.slider.boardSize&&-1!==t[1]&&t[1]!==this.props.slider.boardSize&&!D(t,e.slice(0,-1))||(clearInterval(this.snakeInterval),this.props.loseGame())}},{key:"checkFoodCollision",value:function(){var e=this.props.snake.coords,t=e[e.length-1],a=this.props.food;t[0]===a[0]&&t[1]===a[1]&&(this.generateNewFood(),this.props.incrementScore(),this.props.prependSnake(e[e.length-1].slice()))}},{key:"resetGame",value:function(){this.props.newGame(),this.generateNewFood(),clearInterval(this.snakeInterval),this.directionOnNextTick="DOWN"}},{key:"generateNewFood",value:function(){var e=Math.floor(Math.random()*this.props.slider.boardSize),t=Math.floor(Math.random()*this.props.slider.boardSize);D([e,t],this.props.snake.coords)?this.generateNewFood():this.props.setFood([e,t])}},{key:"setControls",value:function(){var e=this;document.addEventListener("keydown",function(t){t.preventDefault();var a=e.props.snake.coords,n=a[a.length-1][0],r=a[a.length-1][1];switch(t.keyCode){case 65:case 37:"RIGHT"!==e.props.snake.direction&&0!==n&&(e.directionOnNextTick="LEFT");break;case 68:case 39:"LEFT"!==e.props.snake.direction&&n!==e.props.slider.boardSize-1&&(e.directionOnNextTick="RIGHT");break;case 83:case 40:"UP"!==e.props.snake.direction&&r!==e.props.slider.boardSize-1&&(e.directionOnNextTick="DOWN");break;case 87:case 38:"DOWN"!==e.props.snake.direction&&0!==r&&(e.directionOnNextTick="UP");break;case 32:e.props.game.lost&&e.resetGame(),clearInterval(e.snakeInterval),e.snakeInterval=setInterval(function(){e.props.setDirection(e.directionOnNextTick),e.props.moveSnake(e.props.snake)},e.props.slider.value)}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"snakeTitle"},"Snake"),r.a.createElement("h1",{className:"snakeCurrentScore"},"Score: ",this.props.game.score),r.a.createElement("h3",{className:"snakeHighScore"},"High Score: ",this.props.game.highScore),r.a.createElement("div",{className:"snakeGame"},r.a.createElement(g,{className:"sliderComponent",onChange:this.handleGameSpeedChange,minValue:20,maxValue:v,label:"Speed",value:v-this.props.slider.value}),r.a.createElement("div",{className:"snakeBoardWrapper"},r.a.createElement(b,{size:this.props.slider.boardSize}),r.a.createElement(k,{coords:this.props.snake.coords,lost:this.props.game.lost,size:this.props.slider.boardSize}),r.a.createElement(O,{coords:this.props.food,size:this.props.slider.boardSize}))),r.a.createElement("p",{className:"snakeHelp"},"Press spacebar to begin!"))}}]),t}(n.Component);var A=Object(p.b)(function(e){return e},function(e){return Object(m.a)({moveSnake:j,setFood:C,setDirection:G,prependSnake:y,newGame:w,loseGame:_,incrementScore:z,changeBoardSize:M,changeGameSpeed:T},e)})(I),x=a(21),F=a(2),B={direction:E,coords:[[Math.floor(9),0],[Math.floor(9),1],[Math.floor(9),2]]},R=[],W={lost:!1,score:0,highScore:0};function L(e){var t=e.score,a=e.highScore;return t>a?t:a}var H={value:20,boardSize:18},P=Object(m.b)({snake:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_SNAKE":return Object(F.a)({},e,{coords:t.coords});case"SET_DIRECTION":return Object(F.a)({},e,{direction:t.direction});case"PREPEND_SNAKE":return Object(F.a)({},e,{coords:[[t.coords]].concat(Object(x.a)(e.coords))});case"NEW_GAME":return{direction:E,coords:[[Math.floor(9),0],[Math.floor(9),1],[Math.floor(9),2]]}}return e},food:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FOOD":return t.food;case"NEW_GAME":return R}return e},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;switch((arguments.length>1?arguments[1]:void 0).type){case"LOSE_GAME":return Object(F.a)({},e,{lost:!0,highScore:L(e)});case"NEW_GAME":return Object(F.a)({},e,{score:0,lost:!1});case"INCREMENT_SCORE":return Object(F.a)({},e,{score:e.score+1})}return e},slider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_GAME_SPEED":return Object(F.a)({},e,{value:t.slider});case"CHANGE_BOARD_SIZE":return Object(F.a)({},e,{boardSize:t.boardSize})}return e}}),V=(a(17),Object(m.c)(P)),K=function(){return r.a.createElement("div",{className:"appSnake"},r.a.createElement(A,null))},U=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{store:V,className:"snakeGame"},r.a.createElement(K,{className:"snake"})))}}]),t}(n.Component),J=(a(52),a(54),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(h.a)(Object(h.a)(a))),a.state={activeGame:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleClose",value:function(){this.setState({activeGame:""})}},{key:"render",value:function(){var e;return e=r.a.createElement("div",{className:"activeSnakeContainer"},r.a.createElement(U,{className:"snakeGame",closeGame:this.handleClose})),r.a.createElement("div",null,r.a.createElement("div",{className:"snakeGameContainer"},e))}}]),t}(n.Component)),Z=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(J,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.8a91ee28.chunk.js.map